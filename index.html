<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ubiquitous Nightslayer</title>
    <style>
        /* --- MAIN STYLES --- */
        body {
            margin: 0; padding: 0; 
            background-color: black; 
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden; 
        }
        .splash-container { position: relative; max-width: 100%; display: inline-block; }
        
        .splash-image { 
            display: block; 
            max-width: 100%; 
            height: auto; 
            max-height: 85vh; 
            width: auto;
            filter: drop-shadow(0 0 10px rgba(200, 0, 0, 0.3));
        }

        /* --- GLOWING BUTTON STYLES --- */
        .link-box {
            position: absolute; 
            top: 63%;      
            height: 12%;   
            /* Default width for the first 3 buttons */
            width: 19%;    
            
            z-index: 10;
            cursor: pointer; 
            
            /* !!! DEBUG MODE: GREEN BORDER VISIBLE !!! */
            /* Delete this line once alignment is perfect */
            border: 2px solid #00ff00; 
            
            border-radius: 15px; 
            transition: all 0.3s ease-in-out;
        }

        /* THE DAZZLE EFFECT (On Hover) */
        .link-box:hover, .link-box.active {
            border: 2px solid #ff5555; 
            background-color: rgba(255, 0, 0, 0.2); 
            
            box-shadow: 
                0 0 10px #ff0000,       
                0 0 20px #ff0000,       
                0 0 40px #ff0000,       
                inset 0 0 15px #ff0000; 
            
            animation: neon-pulse 1.5s infinite alternate;
        }

        @keyframes neon-pulse {
            from { box-shadow: 0 0 10px #ff0000, 0 0 20px #ff0000, inset 0 0 10px #ff0000; }
            to { box-shadow: 0 0 20px #ff0000, 0 0 50px #ff0000, 0 0 10px white, inset 0 0 20px #ff0000; }
        }

        /* --- HORIZONTAL POSITIONS --- */
        
        .youtube  { left: 8.1%; } 
        .logs     { left: 30.1%; }
        .softres  { left: 50.9%; } 
        
        /* Recruitment: Left margin kept same, width increased slightly to stretch right */
        .recruit  { left: 72.4%; width: 19.5%; }

        /* --- POPUP TOOLTIPS --- */
        .tooltip-text {
            visibility: hidden; width: 300px; background-color: rgba(0, 0, 0, 0.95);
            color: #fff; text-align: left; border-radius: 8px; padding: 20px;
            border: 1px solid #ff0000; 
            box-shadow: 0 0 25px rgba(255, 0, 0, 0.5);
            position: absolute; bottom: 120%; left: 50%; opacity: 0;
            transition: opacity 0.3s; z-index: 20; font-size: 14px; line-height: 1.5;
            pointer-events: auto;
        }
        
        .recruit .tooltip-text { transform: translateX(-80%); width: 350px; } 
        .softres .tooltip-text { transform: translateX(-50%); } 

        .link-box:hover .tooltip-text,
        .link-box.active .tooltip-text {
            visibility: visible; opacity: 1;
        }

        #discord-signups a { color: #ff5555; text-decoration: underline; font-weight: bold; }
        
        .tooltip-header {
            font-weight: bold; font-size: 16px; color: #ff5555;
            margin-bottom: 8px; border-bottom: 1px solid #444; padding-bottom: 5px; display: block;
            text-shadow: 0 0 5px #ff0000;
        }

        /* --- ROSTER --- */
        .roster-list { margin-top: 15px; font-size: 14px; color: #ddd; border-top: 1px solid #333; padding-top: 10px; }
        .roster-row { margin-bottom: 6px; padding: 4px; border-radius: 4px; transition: background 0.2s; display: flex; justify-content: space-between; align-items: center; text-decoration: none; color: #ddd; }
        .roster-row:hover { background-color: rgba(255, 0, 0, 0.2); color: #fff; box-shadow: 0 0 10px rgba(255, 0, 0, 0.2); }
        .roster-row:hover::after { content: "Message ->"; font-size: 10px; color: #ff5555; }
        .roster-role { color: #ff5555; font-weight: bold; margin-right: 5px; text-shadow: 0 0 3px #500; }
    </style>
</head>
<body>

    <div class="splash-container">
        <img src="bg.jpg" id="mainImage" alt="Ubiquitous Nightslayer" class="splash-image" onerror="tryNextExtension(this)">

        <a href="https://www.youtube.com/channel/UC7tfn3SN2w_XpDY6GMobH7w" target="_blank" class="link-box youtube"></a>
        <a href="https://fresh.warcraftlogs.com/guild/us/nightslayer/ubiquitous" target="_blank" class="link-box logs"></a>
        
        <div class="link-box softres" id="softres-box" onclick="toggleTooltip(event, 'softres-box')">
            <div class="tooltip-text">
                <span class="tooltip-header">Raid Sign-ups</span>
                <div id="discord-signups">Fetching latest post...</div>
                <br><span style="color: #ff5555; font-size: 11px;">(Click to keep open & click links)</span>
            </div>
        </div>

        <div class="link-box recruit" id="recruit-box" onclick="toggleTooltip(event, 'recruit-box')">
            <div class="tooltip-text">
                <span class="tooltip-header">About Ubiquitous</span>
                <p style="margin-top:0;">We are a community of mature players united by a single goal: clearing content efficiently while genuinely enjoying the game.</p>
                <p>We believe in "serious fun"â€”we joke, we laugh, and we enjoy the banter, but we respect each other's time and focus when it counts.</p>
                <p style="font-style:italic; color:#aaa; margin-bottom:5px;">Transparency is our foundation.</p>
                <div class="roster-list">
                    <div class="tooltip-header" style="font-size:14px; margin-top:10px;">Leadership (Click to Message)</div>
                    <a href="https://discord.com/users/196004305252122624" target="_blank" class="roster-row"><span><span class="roster-role">GM:</span> Slappy</span></a>
                    <a href="https://discord.com/users/307250863343403030" target="_blank" class="roster-row"><span><span class="roster-role">Co-GM:</span> Zizex</span></a>
                    <a href="https://discord.com/users/278604665459834890" target="_blank" class="roster-row"><span><span class="roster-role">Officer:</span> Facepom</span></a>
                    <a href="https://discord.com/users/136312701390422017" target="_blank" class="roster-row"><span><span class="roster-role">Officer:</span> Beekeeperjim</span></a>
                    <a href="https://discord.com/users/457738183510196226" target="_blank" class="roster-row"><span><span class="roster-role">Officer:</span> Frosty</span></a>
                </div>
            </div>
        </div>
    </div>

    <script>
        var attempts = 0;
        function tryNextExtension(img) {
            var extensions = ['bg.png', 'bg.jpeg', 'bg.webp'];
            if (attempts < extensions.length) { img.src = extensions[attempts]; attempts++; } 
            else { document.body.innerHTML = '<h2 style="color:white; text-align:center;">Image not found.</h2>'; }
        }
        function toggleTooltip(event, id) {
            event.stopPropagation();
            var clickedElement = document.getElementById(id);
            var isAlreadyActive = clickedElement.classList.contains('active');
            document.querySelectorAll('.link-box').forEach(function(box) { box.classList.remove('active'); });
            if (!isAlreadyActive) { clickedElement.classList.add('active'); }
        }
        document.addEventListener('click', function() {
            document.querySelectorAll('.link-box').forEach(function(box) { box.classList.remove('active'); });
        });
        async function getDiscordContent() {
            const WORKER_URL = 'https://discord-news-bridge.robert-d-hopper.workers.dev/'; 
            try {
                const response = await fetch(WORKER_URL);
                const data = await response.json();
                if (data && data.length > 0) {
                    let text = data[0].content;
                    const urlRegex = /(https?:\/\/[^\s]+)/g;
                    document.getElementById('discord-signups').innerHTML = text.replace(urlRegex, url => `<a href="${url}" target="_blank">${url}</a>`);
                }
            } catch (err) { document.getElementById('discord-signups').innerText = "Visit Discord for links."; }
        }
        getDiscordContent();
    </script>
</body>
</html>
